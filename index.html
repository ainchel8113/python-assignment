<!DOCTYPE html>
<html>
<head>
    <title>Ainchel Magic - Winter is Coming</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: 'Cinzel', serif;
            background: url('https://wallpaperaccess.com/full/317501.jpg') no-repeat center center fixed;
            background-size: cover;
            color: white;
            text-align: center;
            overflow: hidden;
        }

        h1 {
            margin-top: 50px;
            font-size: 3em;
            text-shadow: 2px 2px 8px #000;
        }

        form {
            margin-top: 30px;
        }

        input[type="text"] {
            padding: 10px;
            width: 300px;
            border: none;
            border-radius: 5px;
        }

        input[type="submit"] {
            padding: 10px 20px;
            background-color: #ffffff;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            color: #000;
            font-weight: bold;
        }

        input[type="submit"]:hover {
            background-color: #ccc;
        }

        #snow-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 9999;
        }
    </style>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@700&display=swap" rel="stylesheet">
</head>
<body>
    <canvas id="snow-canvas"></canvas>
    <h1>❄ Ainchel Magic - Winter is Coming ❄</h1>
    
    <form method="POST">
        <input type="text" name="long_url" placeholder="Enter your long URL" required>
        <input type="submit" value="Shorten">
    </form>

    {% if short_url %}
        <p>Your Shortened URL:</p>
        <a href="{{ short_url }}" target="_blank">{{ short_url }}</a>
    {% endif %}

    <script>
        const canvas = document.getElementById('snow-canvas');
        const ctx = canvas.getContext('2d');
        let snowflakes = [];

        function resizeCanvas() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        }
        window.addEventListener('resize', resizeCanvas);
        resizeCanvas();

        function createSnowflakes() {
            const x = Math.random() * canvas.width;
            const y = Math.random() * canvas.height;
            const radius = Math.random() * 4 + 1;
            const speed = Math.random() * 1 + 0.5;
            snowflakes.push({ x, y, radius, speed });
        }

        function drawSnowflakes() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            ctx.fillStyle = 'white';
            ctx.beginPath();
            snowflakes.forEach((flake) => {
                ctx.moveTo(flake.x, flake.y);
                ctx.arc(flake.x, flake.y, flake.radius, 0, Math.PI * 2);
            });
            ctx.fill();
            updateSnowflakes();
        }

        function updateSnowflakes() {
            snowflakes.forEach((flake) => {
                flake.y += flake.speed;
                if (flake.y > canvas.height) {
                    flake.y = 0;
                    flake.x = Math.random() * canvas.width;
                }
            });
        }

        function snow() {
            drawSnowflakes();
            requestAnimationFrame(snow);
        }

        setInterval(createSnowflakes, 100);
        snow();
    </script>
</body>
</html>
